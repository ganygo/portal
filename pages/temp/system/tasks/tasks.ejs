<% layout('../../_common/layouts/general')%>
<%- partial('../../_common/components/date-filter',{includeForm:true,includeFilterButton:true}) %>

<%- partial('../../_common/components/grid2',{
    fields:[
        {field:'taskType',title:'Görev Türü',type:'lookup',filter:true, lookup:[
            {title:'-Tümü-', value:''},
            {title:'Z Rapor aktar', value:'connector_transfer_zreport'},
            {title:'E-Fatura içeri al', value:'connector_import_einvoice'},
            {title:'E-Fatura dışarı ver', value:'connector_export_einvoice'},
            {title:'E-Defter içeri al', value:'connector_import_eledger'},
            {title:'E-Fatura GİB e gönder', value:'einvoice_send_to_gib'},
            {title:'Email gönder', value:'send_email'},
            {title:'SMS gönder', value:'send_sms'}
        ]},
        {field:'collectionName',title:'db Collection',type:'string',orderable:true},
        {field:'documentId',title:'documentId',type:'string',orderable:true},
        {field:'startDate',title:'Başlangıç',type:'string',orderable:true},
        {field:'endDate',title:'Bitiş',type:'string',orderable:true},
        {field:'status',title:'Durum',type:'lookup',filter:true, lookup:[
            {title:'-Tümü-', value:''},
            {title:'Kuyrukta', value:'pending'},
            {title:'Çalışıyor', value:'running'},
            {title:'Tamamlandı', value:'completed'},
            {title:'İptal', value:'cancelled'},
            {title:'Hata', value:'error'}
        ]},
        {field:'attemptCount',title:'Tekrar Sayısı',type:'string'}
    ],
    title:'Görev Yöneticisi',
    addNewButton:false,
    editButton:false,
    viewButton:true,
    deleteButton:true,
    deleteUrl:`/dbapi/tasks/{_id}?sid=${sid}`
    }) 
%>
