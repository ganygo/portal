<%
    switch(form.itemType){
        case 'raw-material':
            title='Hammaddeler';
        break;
        case 'helper-material':
            title='Yardımcı Malzemeler';
        break;
        case 'product':
            title='Mamul ve Yarı Mamuller';
        break;
        case 'asset':
            title='Demirbaş';
        break;
        case 'sales-service':
            title='Satılan hizmetler';
        break;
        case 'purchasing-service':
            title='Alınan hizmetler';
        break;
        default:
            title='Envanter';
        break;
    }

%>
<%layout('../../_common/layout')%>
<%- partial('../../_common/grid2',{
    fields:[
        {name:'name.value',text:'Adı',type:'label' , filter:true, filterField:'name', orderable:true, width:'60%'},
        {name:'description.value',text:'Açıklama',type:'label' , filter:true, filterField:'description', orderable:true},
        {name:'passive',text:'Pasif',type:'checkbox',width:1, filter:true, orderable:true}
    ],
    caption:'',
    addNewButton:true,
    editButton:true,
    deleteButton:true,
    viewButton:true,
    addNewUrl:urlPath + '/addnew?itemType=' + form.itemType + '&db=' + db + '&sid=' + sid,
    editUrl:urlPath + '/edit/{_id}?itemType=' + form.itemType + '&db=' + db + '&sid=' + sid,
    viewUrl:urlPath + '/view/{_id}?itemType=' + form.itemType + '&db=' + db + '&sid=' + sid,
    customButtons:[
        {href:'javascript:itemCopy("{_id}","{name.value}")', text:'Kopyala',icon:'far fa-copy' , divider:true},
        {href:'/e-invoice/outbox/pdf/{_id}?db=' + db + '&sid=' + sid, text:'Pdf',icon:'fas fa-file-pdf'}
    ],
    deleteUrl:'/dbapi/items/{_id}?db=' + db + '&sid=' + sid
    }) 
%>

<%- partial('../../_common/modal',{
    modalId:'itemCopyModal',
    caption:'Bilgiler',
    formControls:{
        newName:{caption:'Yeni isim', type:'textbox', default:'merhaba jinjin'}
    },
    mode:'addnew'
}) %>
<script type="text/javascript">
    function itemCopy(_id, name){
        $('#newName').val(name + ' kopya');
        $('#itemCopyModal').modal('show');
    }
</script>