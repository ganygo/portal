<%layout('../../_common/layouts/plain')%>
<div class="card">
    <div class="card-header p-1">
        <div class="float-left bold text-danger">Hatalar</div>
    </div>
    <div class="card-body p-1">
        <div class="row">
            <div class="form-group col-md-3">
                <label for="" class="m-0">Fatura No</label>
                <input type="text" class="form-control" name="ID[value]" value="<%=form.ID.value%>" readonly="true">
            </div>
            <div class="form-group col-md-3">
                <label for="" class="m-0">Tarih</label>
                <input type="text" name="issueDate[value]" class="form-control" value="<%=form.issueDate.value %>">
            </div>
            <div class="form-group col-md-3">
                <label for="" class="m-0">Senaryo</label>
                <input type="text" name="profileId[value]" class="form-control" value="<%=form.profileId.value %>">
            </div>
            <div class="form-group col-md-3">
                <label for="" class="m-0">Fatura Tipi</label>
                <input type="text" name="invoiceTypeCode[value]" class="form-control" value="<%=form.invoiceTypeCode.value %>">
            </div>
        </div>
        <% var hataVar=false; %>
        <% if(typeof form.invoiceErrors!='undefined'){ %>
            <% if(form.invoiceErrors.length>0){ %>
                <% hataVar=true; %>
        <label class="bold">Fatura Hataları</label>
        <table class="table form-table table-bordered table-striped m-0"  cellspacing="0">
            <thead>
                <tr class="text-nowrap">
                    <th width="20%" class="">Tarih</th>
                    <th width="30%" class="">Code</th>
                    <th width="50%" class="">Aciklama</th>
                </tr>
            </thead>
            <tbody>
                <% form.invoiceErrors.forEach((e)=>{ %>
                <tr>
                    <td><% if(typeof e._date!='undefined'){%><%=(new Date(e._date)).yyyymmddhhmmss()%><%}%></td>
                    <td><% if(typeof e.code!='undefined'){%><%=e.code%><%}%></td>
                    <td><% if(typeof e.message!='undefined'){%><%=e.message%><%}%></td>
                </tr>
                <% }) %>
            </tbody>
        </table>
            <% } %>
        <% } %>
        <% if(typeof form.localErrors!='undefined'){ %>
            <% if(form.localErrors.length>0){ %>
                <% hataVar=true; %>
        <label class="bold">Fatura Lokal Entegrasyon Hataları</label>
        <table class="table form-table table-bordered table-striped m-0"  cellspacing="0">
            <thead>
                <tr class="text-nowrap">
                    <th width="20%" class="">Tarih</th>
                    <th width="30%" class="">Code</th>
                    <th width="50%" class="">Aciklama</th>
                </tr>
            </thead>
            <tbody>
                <% form.localErrors.forEach((e)=>{ %>
                <tr>
                    <td><% if(typeof e._date!='undefined'){%><%=(new Date(e._date)).yyyymmddhhmmss()%><%}%></td>
                    <td><% if(typeof e.code!='undefined'){%><%=e.code%><%}%></td>
                    <td><% if(typeof e.message!='undefined'){%><%=e.message%><%}%></td>
                </tr>
                <% }) %>
            </tbody>
        </table>
            <% } %>
        <% } %>
        <% if(!hataVar){ %>
        <label class="text-primary bold">Herhangi bir hata bilgisi yok</label>
        <% } %>
    </div>
</div>
